import { Neovim, Window } from '@chemzqm/neovim';
import { Disposable, Event } from 'vscode-languageserver-protocol';
import { Documentation, Env } from '../types';
export interface WindowConfig {
    width: number;
    height: number;
    col: number;
    row: number;
    relative: 'cursor' | 'win' | 'editor';
}
export default class FloatFactory implements Disposable {
    private nvim;
    private env;
    private srcId;
    private preferTop;
    private maxHeight;
    private buffer;
    private targetBufnr;
    private window;
    private readonly _onWindowCreate;
    private disposables;
    private floatBuffer;
    private tokenSource;
    private promise;
    private alignTop;
    private _creating;
    private moving;
    private createTs;
    private cursor;
    readonly onWindowCreate: Event<Window>;
    constructor(nvim: Neovim, env: Env, srcId: number, preferTop?: boolean, maxHeight?: number);
    private onCursorMoved;
    private createBuffer;
    private readonly columns;
    private readonly lines;
    getBoundings(docs: Documentation[]): Promise<WindowConfig>;
    create(docs: Documentation[], allowSelection?: boolean): Promise<void>;
    private _create;
    /**
     * Close float window
     */
    close(): void;
    private closeWindow;
    dispose(): void;
    readonly creating: boolean;
    static readonly isCreating: boolean;
}
